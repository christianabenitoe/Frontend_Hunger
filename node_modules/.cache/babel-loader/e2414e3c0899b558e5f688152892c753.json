{"ast":null,"code":"import _slicedToArray from\"/Users/musubimanagement/Desktop/hunger-captain-main 2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Header from\"../components/Common/Header\";import Footer from\"../components/Common/Footer\";import PopupWriteRevew from\"../components/Popup/WriteReview\";import PopupRevews from\"../components/Popup/Reviews\";import Item from\"../components/Common/Item\";import{fetchItems}from\"../reducks/items/operations\";import{getItems}from\"../reducks/items/selectors\";import{getCarts,getSubtotal}from\"../reducks/carts/selectors\";import{fetchFromLocalStorage}from\"../reducks/carts/operations\";import queryString from\"query-string\";import brush from'../assets/img/brush.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var parsed=queryString.parse(window.location.search);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showWriteReview=_useState2[0],setShowWriteReview=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showReviews=_useState4[0],setShowReviews=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCartList=_useState6[0],setShowCartList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),selectedItemId=_useState8[0],setSelectedItemId=_useState8[1];var dispatch=useDispatch();var selector=useSelector(function(state){return state;});var items=getItems(selector);var carts=getCarts(selector);var subtotal=getSubtotal(selector);useEffect(function(){dispatch(fetchFromLocalStorage());dispatch(fetchItems(parsed.category));},[]);var showItem=function showItem(item){var selected_count=0;if(carts[item.id]&&carts[item.id].selected_count){selected_count=carts[item.id].selected_count;}if(showCartList&&carts[item.id]==undefined){// if the page is cart page and item is not slected, show nothing.\nreturn;}return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Item,{item:item,selected_count:selected_count,setShowWriteReview:setShowWriteReview,setShowReviews:setShowReviews,setSelectedItemId:setSelectedItemId},item.id)});};return/*#__PURE__*/_jsxs(\"div\",{class:\"home\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{class:\"content\",children:[showCartList?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Selected Items\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please show this page to the waiter.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popular-recipes\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Our Most Popular Recipes\"}),/*#__PURE__*/_jsx(\"img\",{src:brush,alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"Try our Most Delicious food and it usually take minutes to deliver!\"})]}),/*#__PURE__*/_jsxs(\"ul\",{class:\"category\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"active\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"All\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/?category=hot\",children:\"Hot\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/?category=cold\",children:\"Cold\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/?category=bagel\",children:\"Bagel\"})})]})]}),/*#__PURE__*/_jsx(\"ul\",{class:\"items\",children:items&&items.map(function(item){return showItem(item);})})]}),/*#__PURE__*/_jsx(Footer,{price:subtotal,showCartList:showCartList,setShowCartList:setShowCartList}),showWriteReview&&/*#__PURE__*/_jsx(PopupWriteRevew,{selectedItemId:selectedItemId,setSelectedItemId:setSelectedItemId,setShowWriteReview:setShowWriteReview}),showReviews&&/*#__PURE__*/_jsx(PopupRevews,{selectedItemId:selectedItemId,setSelectedItemId:setSelectedItemId,setShowReviews:setShowReviews})]});};export default Home;","map":{"version":3,"sources":["/Users/musubimanagement/Desktop/hunger-captain-main 2/frontend/src/containers/Home.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Header","Footer","PopupWriteRevew","PopupRevews","Item","fetchItems","getItems","getCarts","getSubtotal","fetchFromLocalStorage","queryString","brush","Home","parsed","parse","window","location","search","showWriteReview","setShowWriteReview","showReviews","setShowReviews","showCartList","setShowCartList","selectedItemId","setSelectedItemId","dispatch","selector","state","items","carts","subtotal","category","showItem","item","selected_count","id","undefined","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Header from \"../components/Common/Header\";\nimport Footer from \"../components/Common/Footer\";\nimport PopupWriteRevew from \"../components/Popup/WriteReview\";\nimport PopupRevews from \"../components/Popup/Reviews\";\nimport Item from \"../components/Common/Item\";\nimport { fetchItems } from \"../reducks/items/operations\";\nimport { getItems } from \"../reducks/items/selectors\";\nimport { getCarts, getSubtotal } from \"../reducks/carts/selectors\";\nimport { fetchFromLocalStorage } from \"../reducks/carts/operations\";\nimport queryString from \"query-string\"\nimport brush from '../assets/img/brush.svg';\n\nconst Home = () => {\n  const parsed = queryString.parse(window.location.search);\n  const [showWriteReview, setShowWriteReview] = useState(false);\n  const [showReviews, setShowReviews] = useState(false);\n  const [showCartList, setShowCartList] = useState(false);\n  const [selectedItemId, setSelectedItemId] = useState();\n  const dispatch = useDispatch();\n  const selector = useSelector((state) => state);\n  const items = getItems(selector);\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n\n  useEffect(() => {\n    dispatch(fetchFromLocalStorage());\n    dispatch(fetchItems(parsed.category));\n  }, []);\n\n  const showItem = (item) => {\n    let selected_count = 0;\n    if (carts[item.id] && carts[item.id].selected_count) {\n      selected_count = carts[item.id].selected_count;\n    }\n\n    if (showCartList && carts[item.id] == undefined) {\n      // if the page is cart page and item is not slected, show nothing.\n      return;\n    }\n\n    return (\n      <li>\n        <Item\n          key={item.id}\n          item={item}\n          selected_count={selected_count}\n          setShowWriteReview={setShowWriteReview}\n          setShowReviews={setShowReviews}\n          setSelectedItemId={setSelectedItemId}\n        />\n      </li>\n    );\n  };\n\n  return (\n    <div class=\"home\">\n      <Header />\n\n      <section class=\"content\">\n        {showCartList ? (\n          <>\n            <h1>Selected Items</h1>\n            <p>Please show this page to the waiter.</p>\n          </>\n        ) : (\n          <>\n            <div className=\"popular-recipes\">\n              <p>Our Most Popular Recipes</p>\n              <img src={brush} alt=\"\" /> <br />\n              <span>\n                Try our Most Delicious food and it usually take minutes to\n                deliver!\n              </span>\n            </div>\n            <ul class=\"category\">\n              <li class=\"active\">\n                <a href=\"/\">All</a>\n              </li>\n              <li>\n                <a href=\"/?category=hot\">Hot</a>\n              </li>\n              <li>\n                <a href=\"/?category=cold\">Cold</a>\n              </li>\n              <li>\n                <a href=\"/?category=bagel\">Bagel</a>\n              </li>\n            </ul>\n          </>\n        )}\n        <ul class=\"items\">{items && items.map((item) => showItem(item))}</ul>\n      </section>\n\n      <Footer\n        price={subtotal}\n        showCartList={showCartList}\n        setShowCartList={setShowCartList}\n      />\n\n      {showWriteReview && (\n        <PopupWriteRevew\n          selectedItemId={selectedItemId}\n          setSelectedItemId={setSelectedItemId}\n          setShowWriteReview={setShowWriteReview}\n        />\n      )}\n      {showReviews && (\n        <PopupRevews\n          selectedItemId={selectedItemId}\n          setSelectedItemId={setSelectedItemId}\n          setShowReviews={setShowReviews}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}